const UserAPIV2="API/V2/User.php",BookAPIV2="API/V2/Book.php";function AddCard(t){document.getElementById("ContentBody").appendChild(t)}function CreateCard(t,o,e,n="dark",i="",r=""){var d=document.createElement("div");return d.classList+="card card-"+n+" "+o,d.id=t,d.innerHTML='<div class="card-header" id="Card-'+t+'Header"><h3 class="card-title">'+e+'</h3></div><div class="card-body" id="'+t+'Body">'+i+'</div><div class="card-footer" id="'+t+'Footer">'+r+"</div>",d}function AddNotification(t){document.getElementById("NotificationNumber").innerText=parseInt(document.getElementById("NotificationNumber").innerText)+1,document.getElementById("NotificationNumberNotifications").innerText=parseInt(document.getElementById("NotificationNumber").innerText)+" "+document.getElementById("NotificationNumberNotifications").innerText.split(" ",2)[1],document.getElementById("NotificationDropDown").appendChild(t);var o=document.createElement("div");o.classList="dropdown-divider",document.getElementById("NotificationDropDown").appendChild(o)}function CreateNotification(t,o,e,n){var i=document.createElement("a");return i.href=o,i.id="Notification-"+t,i.classList="dropdown-item",i.innerHTML='<i class="fas '+e+' mr-2"></i>'+n,i}function ReloadView(){for(var t=ContentBody.children,o=0;o<t.length;o++)t[o].style.display="none";const e=document.getElementsByClassName(location.hash.substring(1));for(o=0;o<e.length;o++)e[o].style.display="block"}var BorrowBookIdentifier,BorrowBookFindBookBtn,BorrowBookListNumber=1;function BorrowBookFindBook(){BorrowBookIdentifier.value.length<3||$.post(BookAPIV2,{type:"GetBook",Identifier:BorrowBookIdentifier.value},function(t){console.log(t);var o=document.getElementById("BorrowingTable"),e=o.insertRow(o.rows.length);e.insertCell(0).innerText=BorrowBookListNumber++,e.insertCell(1).innerText=t.data.Identifier,e.insertCell(2).innerText=t.data.Title,e.insertCell(3).innerText=t.data.AuthorIDs,e.insertCell(4).innerText="Cancel"})}$(function(){AddCard(CreateCard("BorrowBookCard","BorrowBook","Borrow Book","dark",'<div class="row"><div class="col-9"> <input type="text" class="form-control" id="BorrowBookIdentifier" placeholder="Book Identifier"></div><div class="col-3"> <button type="button" class="btn btn-block btn-dark" id="BorrowBookFindBookBtn">Find Book</button></div></div> <br /><div class="row"><div class="col-12 table-responsive"><table id="BorrowingTable" class="table table-bordered table-striped"><thead><tr><th>#</th><th>Identifier</th><th>Title</th><th>Author</th><th>Action</th></tr></thead><tbody></tbody></table></div></div> <br /><div class="row"><div class="col-9"> <input type="text" class="form-control" placeholder="User Identifier"></div><div class="col-3"> <button type="button" class="btn btn-block btn-dark">Find User</button></div></div> <br /><div class="row"><div class="col-12"> <input type="text" class="form-control" placeholder="User Name" readonly disabled></div></div>','<button type="button" class="btn btn-block btn-dark" id="BorrowBookBtn" style="width: 100%">Charge</button>')),AddCard(CreateCard("ReturnBookCard","ReturnBook","Return Book","dark",'<div class="row"><div class="col-9"> <input type="text" class="form-control" placeholder="Book Identifier"></div><div class="col-3"> <button type="button" class="btn btn-block btn-dark">Find Book</button></div></div> <br /><div class="row"><div class="col-12 table-responsive"><table id="BorrowingTable" class="table table-bordered table-striped"><thead><tr><th>#</th><th>Identifier</th><th>Title</th><th>Author</th><th>Action</th></tr></thead><tbody></tbody></table></div></div>','<button type="button" class="btn btn-block btn-dark" style="width: 100%">Return Books</button>')),BorrowBookIdentifier=document.getElementById("BorrowBookIdentifier"),BorrowBookFindBookBtn=document.getElementById("BorrowBookFindBookBtn"),window.addEventListener("hashchange",ReloadView,!1),ReloadView(),BorrowBookFindBookBtn.onclick=BorrowBookFindBook});